<div class="courses-container">
  <h1>Kurslar</h1>

  <% @courses.each do |course| %>
    <div class="course-card">
      <h3><%= link_to course.title, course_path(course) %></h3>
      <p><%= simple_format(course.description) %></p>

      <div class="button-group">
        <% if policy(course).destroy? %>
          <%= button_to "Kursu Sil", course_path(course), method: :delete, data: { confirm: "Kursu silmek istediƒüine emin misin?" }, class: "btn btn-danger" %>
        <% end %>

        <% if user_signed_in? && current_user.student? && !course.students.include?(current_user) %>
          <%= button_to "Kaydol", enroll_course_path(course), method: :post, class: "btn btn-primary" %>
        <% elsif user_signed_in? && course.students.include?(current_user) %>
          <span class="status">‚úîÔ∏è Kayƒ±tlƒ±sƒ±n</span>
        <% end %>
      </div>
    </div>
  <% end %>

  <% if user_signed_in? && (current_user.role == "instructor" || current_user.role == "admin") %>
    <div class="button-group">
      <%= link_to "‚ûï Yeni Kurs Ekle", new_course_path, class: "btn btn-success" %>
    </div>
  <% end %>

  <% if user_signed_in? %>
    <div class="dashboard-links">
      <% if current_user.admin? %>
        <%= link_to "üîß Admin Paneli", admin_dashboard_path, class: "btn btn-primary" %>
      <% elsif current_user.instructor? %>
        <%= link_to "üìö Eƒüitmen Paneli", instructor_dashboard_path, class: "btn btn-success" %>
      <% elsif current_user.student? %>
        <%= link_to "üéì √ñƒürenci Paneli", student_dashboard_path, class: "btn btn-info" %>
      <% end %>
    </div>
  <% end %>
</div>


<!-- Css Kullanarak Olu≈üturduƒüum Front -->
<style>
  .courses-container {
    max-width: 960px;
    margin: auto;
    padding: 30px 20px;
    font-family: "Segoe UI", sans-serif;
  }

  .course-card {
    background: #ffffff;
    border: 1px solid #dde2eb;
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 8px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.05);
  }

  .course-card h3 {
    margin-top: 0;
    margin-bottom: 8px;
    font-size: 20px;
    color: #2c3e50;
  }

  .course-card p {
    margin-bottom: 10px;
    color: #444;
  }

  .button-group {
    margin-top: 10px;
  }

  .btn {
    display: inline-block;
    padding: 8px 16px;
    font-size: 14px;
    border-radius: 5px;
    text-decoration: none;
    margin-right: 10px;
  }

  .btn-primary { background-color: #2563eb; color: white; }
  .btn-success { background-color: #2ecc71; color: white; }
  .btn-danger { background-color: #e74c3c; color: white; }
  .btn-info { background-color: #3498db; color: white; }

  .status {
    display: inline-block;
    padding: 4px 10px;
    border-radius: 4px;
    background: #e0f8e9;
    color: #27ae60;
    font-size: 13px;
    font-weight: bold;
  }

  .dashboard-links {
    margin-top: 40px;
    text-align: center;
  }

  .dashboard-links a {
    margin: 0 10px;
  }
</style>